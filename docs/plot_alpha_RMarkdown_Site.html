<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Soil Mapping</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="html-md-01.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">GEOG 490:  R for Earth-System Science</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Topics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="intro.html">Introduction</a>
    </li>
    <li>
      <a href="plot_alpha_RMarkdown_Site.html">Raster mapping</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Soil Mapping</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="#load-packages"><span class="toc-section-number">1.1</span> Load packages</a></li>
</ul></li>
<li><a href="#read-data"><span class="toc-section-number">2</span> Read Data</a><ul>
<li><a href="#shapefile"><span class="toc-section-number">2.1</span> Shapefile</a><ul>
<li><a href="#read-a-shapefile"><span class="toc-section-number">2.1.1</span> Read a Shapefile</a></li>
<li><a href="#plot-the-shapefile"><span class="toc-section-number">2.1.2</span> Plot the shapefile</a></li>
</ul></li>
<li><a href="#read-soil"><span class="toc-section-number">2.2</span> Read Soil</a></li>
</ul></li>
<li><a href="#plot-the-data"><span class="toc-section-number">3</span> Plot the data</a><ul>
<li><a href="#plot-months-december-and-august"><span class="toc-section-number">3.1</span> Plot months December and August</a></li>
</ul></li>
<li><a href="#plot-the-long-term-soil-moisture-mean-for-each-month"><span class="toc-section-number">4</span> Plot the long term soil moisture mean for each month</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>This RMarkdown document describes reading and plotting a netCDF file.</p>
<div id="load-packages" class="section level2">
<h2><span class="header-section-number">1.1</span> Load packages</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># load packages</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">library</span>(ncdf4)</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">library</span>(rasterVis)</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">library</span>(RColorBrewer)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">library</span>(ggthemes)</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">library</span>(ncdf.tools)</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">library</span>(zoo)</a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb1-11" title="11"><span class="kw">library</span>(gridExtra)</a></code></pre></div>
<pre><code>## Warning: package &#39;gridExtra&#39; was built under R version 3.5.3</code></pre>
</div>
</div>
<div id="read-data" class="section level1">
<h1><span class="header-section-number">2</span> Read Data</h1>
<div id="shapefile" class="section level2">
<h2><span class="header-section-number">2.1</span> Shapefile</h2>
<div id="read-a-shapefile" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Read a Shapefile</h3>
<p>Read world countries shapefile</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">shp_path &lt;-<span class="st"> &quot;C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">jonjo</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">projects</span><span class="ch">\\</span><span class="st">geog490</span><span class="ch">\\</span><span class="st">data</span><span class="ch">\\</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb3-2" title="2">shp_name &lt;-<span class="st"> &quot;ne_110m_admin_0_countries.shp&quot;</span></a>
<a class="sourceLine" id="cb3-3" title="3">shp_file &lt;-<span class="st"> </span><span class="kw">paste</span>(shp_path,shp_name,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5">world_shp &lt;-<span class="st"> </span><span class="kw">read_sf</span>(shp_file)</a>
<a class="sourceLine" id="cb3-6" title="6">world_outline &lt;-<span class="st"> </span><span class="kw">as</span>(<span class="kw">st_geometry</span>(world_shp), <span class="dt">Class =</span> <span class="st">&quot;Spatial&quot;</span>)</a></code></pre></div>
</div>
<div id="plot-the-shapefile" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Plot the shapefile</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># plot the world outlines</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">plot</span>(world_outline,<span class="dt">col=</span><span class="st">&quot;gray80&quot;</span>,<span class="dt">lwd=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="plot_alpha_RMarkdown_Site_files/figure-html/plot_shapefile-1.png" width="2100" /></p>
</div>
</div>
<div id="read-soil" class="section level2">
<h2><span class="header-section-number">2.2</span> Read Soil</h2>
<p><strong>Now read in soil moisture data with ncdf4 package</strong></p>
<ul>
<li>This piece of code displays the raster coordinate extent before rotating the coordinate system.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">nc_path &lt;-<span class="st"> &quot;C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">jonjo</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">geog490</span><span class="ch">\\</span><span class="st">data</span><span class="ch">\\</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb5-2" title="2">nc_name &lt;-<span class="st"> &quot;soilw.mon.ltm.v2.nc&quot;</span></a>
<a class="sourceLine" id="cb5-3" title="3">nc_file &lt;-<span class="st"> </span><span class="kw">paste</span>(nc_path,nc_name,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5">soil_raster_dec &lt;-<span class="st"> </span><span class="kw">raster</span>(nc_file,<span class="dt">varname=</span><span class="st">&quot;soilw&quot;</span>,<span class="dt">band=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7">soil_raster_dec <span class="co"># Convert the coordinates of raster to -180-180 degrees</span></a></code></pre></div>
<pre><code>## class       : RasterLayer 
## band        : 1  (of  12  bands)
## dimensions  : 360, 720, 259200  (nrow, ncol, ncell)
## resolution  : 0.5, 0.5  (x, y)
## extent      : 0, 360, -90, 90  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
## data source : C:/Users/jonjo/Documents/geog490/data/soilw.mon.ltm.v2.nc 
## names       : Model.Calculated.Long.Term.Monthly.Mean.Soil.Moisture 
## z-value     : 0000-12-30 
## zvar        : soilw</code></pre>
<ul>
<li>This is after rotating the coordinate system to fit the plot</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">soil_dec &lt;-<span class="st"> </span><span class="kw">rotate</span>(soil_raster_dec)</a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3">soil_dec</a></code></pre></div>
<pre><code>## class       : RasterLayer 
## dimensions  : 360, 720, 259200  (nrow, ncol, ncell)
## resolution  : 0.5, 0.5  (x, y)
## extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
## data source : in memory
## names       : Model.Calculated.Long.Term.Monthly.Mean.Soil.Moisture 
## values      : 1.862645e-06, 738.2755  (min, max)
## z-value     : 0000-12-30</code></pre>
</div>
</div>
<div id="plot-the-data" class="section level1">
<h1><span class="header-section-number">3</span> Plot the data</h1>
<p><strong>Finally, plot the soil moisture data using the <code>levelplot()</code> function from <code>rasterVis</code> for month of December:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># rasterVis plot</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">#soil_raster &lt;- raster(nc_file,varname=&quot;soilw&quot;)</span></a>
<a class="sourceLine" id="cb9-3" title="3">maptheme &lt;-<span class="st"> </span><span class="kw">rasterTheme</span>(<span class="dt">region=</span><span class="kw">brewer.pal</span>(<span class="dv">8</span>,<span class="st">&quot;Oranges&quot;</span>))</a>
<a class="sourceLine" id="cb9-4" title="4">plt &lt;-<span class="st"> </span><span class="kw">levelplot</span>(soil_dec, <span class="dt">margin=</span>F, <span class="dt">par.settings=</span>maptheme,<span class="dt">main=</span><span class="st">&quot;Soil Moisture mean for December&quot;</span>)</a>
<a class="sourceLine" id="cb9-5" title="5">plt <span class="op">+</span><span class="st"> </span>latticeExtra<span class="op">::</span><span class="kw">layer</span>(<span class="kw">sp.lines</span>(world_outline, <span class="dt">col=</span><span class="st">&quot;gray30&quot;</span>, <span class="dt">lwd=</span><span class="fl">0.5</span>))</a></code></pre></div>
<p><img src="plot_alpha_RMarkdown_Site_files/figure-html/plot_data-1.png" width="2100" /></p>
<div id="plot-months-december-and-august" class="section level2">
<h2><span class="header-section-number">3.1</span> Plot months December and August</h2>
<p><strong>By creating a second raster stack object specifying band 9, I will get the soil moisture from August</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">soil_raster_aug &lt;-<span class="st"> </span><span class="kw">raster</span>(nc_file,<span class="dt">varname=</span><span class="st">&quot;soilw&quot;</span>,<span class="dt">band=</span><span class="dv">9</span>)</a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3">soil_raster_aug <span class="co"># Convert the coordinates of raster to -180-180 degrees</span></a></code></pre></div>
<pre><code>## class       : RasterLayer 
## band        : 9  (of  12  bands)
## dimensions  : 360, 720, 259200  (nrow, ncol, ncell)
## resolution  : 0.5, 0.5  (x, y)
## extent      : 0, 360, -90, 90  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
## data source : C:/Users/jonjo/Documents/geog490/data/soilw.mon.ltm.v2.nc 
## names       : Model.Calculated.Long.Term.Monthly.Mean.Soil.Moisture 
## z-value     : 0001-08-30 
## zvar        : soilw</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">soil_aug &lt;-<span class="st"> </span><span class="kw">rotate</span>(soil_raster_aug)</a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3">soil_aug</a></code></pre></div>
<pre><code>## class       : RasterLayer 
## dimensions  : 360, 720, 259200  (nrow, ncol, ncell)
## resolution  : 0.5, 0.5  (x, y)
## extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
## data source : in memory
## names       : Model.Calculated.Long.Term.Monthly.Mean.Soil.Moisture 
## values      : 1.862645e-06, 740.1436  (min, max)
## z-value     : 0001-08-30</code></pre>
<p><strong>I created two different plots and by using the library <code>gridExtra</code> I am able to display the two plots side by side with <code>grid.arrange()</code>. We can see the difference in soil moisture between the two months.</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb14-2" title="2">maptheme &lt;-<span class="st"> </span><span class="kw">rasterTheme</span>(<span class="dt">region=</span><span class="kw">brewer.pal</span>(<span class="dv">8</span>,<span class="st">&quot;Oranges&quot;</span>))</a>
<a class="sourceLine" id="cb14-3" title="3">plt1 &lt;-<span class="st"> </span><span class="kw">levelplot</span>(soil_dec, <span class="dt">margin=</span>F, <span class="dt">par.settings=</span>maptheme,<span class="dt">main=</span><span class="st">&quot;December mean Soil Moisture&quot;</span>)</a>
<a class="sourceLine" id="cb14-4" title="4">plt_<span class="dv">1</span> &lt;-<span class="st"> </span>plt1 <span class="op">+</span><span class="st"> </span>latticeExtra<span class="op">::</span><span class="kw">layer</span>(<span class="kw">sp.lines</span>(world_outline, <span class="dt">col=</span><span class="st">&quot;gray30&quot;</span>, <span class="dt">lwd=</span><span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb14-5" title="5"></a>
<a class="sourceLine" id="cb14-6" title="6">maptheme &lt;-<span class="st"> </span><span class="kw">rasterTheme</span>(<span class="dt">region=</span><span class="kw">brewer.pal</span>(<span class="dv">8</span>,<span class="st">&quot;Oranges&quot;</span>))</a>
<a class="sourceLine" id="cb14-7" title="7">plt2 &lt;-<span class="st"> </span><span class="kw">levelplot</span>(soil_aug, <span class="dt">margin=</span>F, <span class="dt">par.settings=</span>maptheme,<span class="dt">main=</span><span class="st">&quot;August mean Soil Moisture&quot;</span>)</a>
<a class="sourceLine" id="cb14-8" title="8">plt_<span class="dv">2</span> &lt;-<span class="st"> </span>plt2 <span class="op">+</span><span class="st"> </span>latticeExtra<span class="op">::</span><span class="kw">layer</span>(<span class="kw">sp.lines</span>(world_outline, <span class="dt">col=</span><span class="st">&quot;gray30&quot;</span>, <span class="dt">lwd=</span><span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb14-9" title="9"></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="kw">grid.arrange</span>(plt_<span class="dv">1</span>,plt_<span class="dv">2</span>,<span class="dt">ncol=</span><span class="dv">2</span>)</a></code></pre></div>
<p><img src="plot_alpha_RMarkdown_Site_files/figure-html/plot_dec/aug-1.png" width="2100" /></p>
</div>
</div>
<div id="plot-the-long-term-soil-moisture-mean-for-each-month" class="section level1">
<h1><span class="header-section-number">4</span> Plot the long term soil moisture mean for each month</h1>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">NC_soil_ltm &lt;-<span class="st"> </span><span class="kw">stack</span>(nc_file,<span class="dt">varname=</span><span class="st">&quot;soilw&quot;</span>) <span class="co"># Raster stck object</span></a>
<a class="sourceLine" id="cb15-2" title="2">NC_soil_ltm &lt;-<span class="st"> </span><span class="kw">rotate</span>(NC_soil_ltm) <span class="co"># Rotate the raster object coordinates</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw">names</span>(NC_soil_ltm) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Dec&quot;</span>,<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;March&quot;</span>,<span class="st">&quot;April&quot;</span>,<span class="st">&quot;May&quot;</span>,<span class="st">&quot;June&quot;</span>,<span class="st">&quot;July&quot;</span>,<span class="st">&quot;August&quot;</span>,<span class="st">&quot;September&quot;</span>,<span class="st">&quot;October&quot;</span>,<span class="st">&quot;November&quot;</span>)</a>
<a class="sourceLine" id="cb15-4" title="4">cutpts &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">300</span>,<span class="dv">400</span>,<span class="dv">500</span>,<span class="dv">600</span>,<span class="dv">700</span>) <span class="co"># Set the cut points at the range of values of the dataset&#39;</span></a>
<a class="sourceLine" id="cb15-5" title="5"></a>
<a class="sourceLine" id="cb15-6" title="6">plt &lt;-<span class="st"> </span><span class="kw">levelplot</span>(NC_soil_ltm , <span class="dt">at=</span>cutpts, <span class="dt">cuts=</span><span class="dv">8</span>, <span class="dt">pretty=</span>T, </a>
<a class="sourceLine" id="cb15-7" title="7">                 <span class="dt">col.regions=</span>(<span class="kw">brewer.pal</span>(<span class="dv">8</span>,<span class="st">&quot;Oranges&quot;</span>)))</a>
<a class="sourceLine" id="cb15-8" title="8">plt <span class="op">+</span><span class="st"> </span>latticeExtra<span class="op">::</span><span class="kw">layer</span>(<span class="kw">sp.lines</span>(world_outline, <span class="dt">col=</span><span class="st">&quot;black&quot;</span>, <span class="dt">lwd=</span><span class="fl">0.5</span>))</a></code></pre></div>
<p><img src="plot_alpha_RMarkdown_Site_files/figure-html/plot_months-1.png" width="2100" /> <strong>As we can see based on the long term mean per month, there is a slight difference we can see throughout the months. We can see that land along the equator espcially north of South America has consistent amount of soil moisture all year long, so their is consistent amount of rainfall in those areas. One thing to point out is the lower/mid latitudes of South America have a much higher amount of soil moisture recorded in the winter/spring season than in the summer. So, it is safe to assume that the drier/hotter seasons are in the summer compared to the others. If we focus are attention to the Pacific Northwest, we can see that there is a correlation between the soil moisture recorded and the time of year it was recorded. Since their is a great amount of precipitation in the winter and spring, those spots on the map have a darker tone meaning a higher amount recorded compared to those months in the summer.</strong></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
